# 12. Formulare

> Learnziele
> Html form Elemente
>   - verschiedene input-typen
>   - form attribute wie `action`
>   - css für Fomulare verwenden
>   - Datenvalidierung
>   - Interaktion von Frontend und Backend
>       - mit Formularen als Verbindungsstück
>   - clientseitiges (frontend/browser) versus serverseitiges (Backend/nodejs) javascript


**Wiederholung**

- responsive Design:
    1. Grundstruktur (CSS/Html) für Engeräte mit kleinen Bildschirmen
        - mobile first
    2. Anpassungen für größere Geräte wurden mit 
        - media query
            - haben einen oder mehrere feste Breakpoints, in denen 
                - wir css Eigenschaft hinzufügen oder überscheiben
        - fluid layouts
            - Einheiten für Boxbreiten bzw. Schriftgrößen verändern sich
                - flüssig in Abhängigkeit vom Viewport

        ```css
        :root {
            font-size: calc(1vw + 0.5rem); 
            /*Viewport von 500px--> 1vw(=5px)+0.5rem(8px) = 13px */
        }

        @media (min-width: 500px) {
        .container {
            width: 80%;
            min-width: 1000px;

            margin-left: auto;
            margin-right: auto;
            margin-top: 10px;
            margin-bottom: 10px;
            /*margin: 10px auto; kurzschreibweise*/
        }
        }
         ```

    - Bilder in responsive Design:
        - für kleine Geräte sollten Bilder mit geringer Auflösung verwendet werden
            - da ansonsten unötig lange Ladezeiten entstehen können
            - für kleine Geräte werden die Bilder sowieso runterskaliert
            - für verschiedene Breakpoints können wir unterschiedliche Bilder laden

    ```html
    <img srcset="bild1.jpg 500w, bild_big.jpg 1000w">
    ```

https://pe.app/response_links/350396f2-3514-49df-ad2c-1d08db3af12c (mobile first)


* HTML-Formulare werden in vielen Situationen genutzt: 
 Kontakt, Umfragen, Login, Newsletter, Bestellungen, Suche, Dateneingabe und Upload.

* HTML stellt verschiedene Eingabetypen bereit: Textfelder, Auswahlfelder, Optionsfelder, Schaltflächen.

  * Aufbau und Struktur eines Formulars.
  * Relevante Attribute für Formularelemente und deren Einsatz.
* Übertragung von Formulardaten an einen Server und Weiterverarbeitung, z. B. per PHP, nodejs


| HTML-Element | Kurzbeschreibung                                                                |
| ------------ | ------------------------------------------------------------------------------- |
| `<form>`     | Bereich für ein Formular definieren                                             |
| `<fieldset>` | Formularelemente gruppieren                                                     |
| `<legend>`   | Überschrift für ein `fieldset`                                                  |
| `<label>`    | Textlabel für Eingabefelder, Radio, Checkbox; verknüpft mit dem jeweiligen Feld |
| `<datalist>` | Vorschlagsliste aus `option`-Werten                                             |
| `<input>`    | Eingaben vom Nutzer erfassen; viele Typen verfügbar                             |
| `<button>`   | Anklickbare Schaltfläche                                                        |
| `<select>`   | Auswahlliste starten                                                            |
| `<optgroup>` | Optionen einer Auswahlliste gruppieren                                          |
| `<option>`   | Eintrag in einer Auswahl- bzw. Dropdown-Liste                                   |
| `<textarea>` | Mehrzeilige Texteingabe                                                         |
| `<output>`   | Bereich zur Ausgabe von Werten                                                  |
| `<progress>` | Visuelle Fortschrittsanzeige                                                    |
| `<meter>`    | Darstellung eines Messwerts bzw. eines Bereichs                                 |


* Ein Formularbereich wird mit `<form>` geöffnet und mit `</form>` geschlossen; alles dazwischen gehört zum Formular.

## Grundstruktur eines Formulars:

```html

<form action="/php/feedback.php" methode="post">
.....
</form>
```

* Bedeutende Attribute:

  * `action` → Ziel-URL für die Datenverarbeitung
    * `method` → Übertragungsart:
        * `get` → Daten werden an URL angehängt
        * `post` → Daten im Request-Body (für größere Datenmengen geeignet)

* `action` und `method` sind optional, wenn die Daten nur per JavaScript verarbeitet werden.

* Weitere sinnvolle Attribute:

    * `enctype` → legt Format der übertragenen Daten fest
        * Standard: `"application/x-www-form-urlencoded"`
        * für Datei-Uploads: `"multipart/form-data"`
    * `accept-charset` → Zeichencodierung, z. B. `"utf-8"`
    * `target` → Ausgabefenster für die Antwort

 ![Backend + Frontend](<shapes at 25-11-25 09.43.55.svg>)


#### Textfeld
* Ein einzeiliges Textfeld wird mit `<input type="text">` erstellt; 
* `type="text"` ist optional, aber sinnvoll zur Klarheit.

* Beispiel:

```html

<input type="text" name="einName" size="30" maxlength="40">
```

* `name` ist wichtig, damit Server- oder JavaScript-Code auf den Wert zugreifen kann.
* `size` steuert die sichtbare Breite in Zeichen.
* `maxlength` begrenzt die intern erlaubte Eingabelänge.

* Ein vorbefüllter Wert kann über `value="..."` gesetzt werden.

### Passwortfeld
* Ein Passwortfeld wird mit `<input type="password">` erstellt.
* Zeichen erscheinen als Punkte/Sternchen, dienen nur dem Sichtschutz.

* Beispiel:


  ```html
  <input name="pw" type="password" size="10" maxlength="10">
  ```

* Übertragung ist unverschlüsselt, solange kein HTTPS verwendet wird.

### textarea
* Mehrzeilige Eingaben laufen über `<textarea> ... </textarea>`.

```html
  <textarea name="txt" rows="15" cols="50" maxlength="2500">
  Hier Ihre Nachricht eingeben ...
  </textarea>
  ```

  * `rows` → sichtbare Zeilenanzahl.
* `cols` → Zeichen pro Zeile (visuell).
* `maxlength` → maximale Eingabelänge.
* Standard: automatischer Zeilenumbruch nur visuell; tatsächliche Zeilenumbrüche nur bei Enter.
* `wrap`-Attribut beeinflusst Umbrüche:
  * `soft` (Standard) → Umbruch nur visuell
  * `hard` → kein automatischer Umbruch; horizontales Scrollen bei langen Zeilen

* Auswahllisten werden mit `<select> ... </select>` erstellt.

* Einträge stehen als `<option> ... </option>` im Inneren.

**1. Klassische Dropdown-Liste**

* zeigt nur ein sichtbares Element
* Beispiel:

  ```html
  <select name="thema1">
    <option value="val1">HTML</option>
    <option value="val2" selected>CSS</option>
    <option value="val3">JavaScript</option>
    <option value="val4">React</option>
  </select>
  ```

**2. Mehrfachauswahl mit `multiple` und sichtbaren Zeilen (`size`)**

* `multiple` erlaubt Mehrfachwahl
* `size="4"` zeigt vier Optionen gleichzeitig

  ```html
  <select multiple name="thema2" size="4">
    <option value="val5">HTML</option>
    <option value="val6" selected>CSS</option>
    <option value="val7">JavaScript</option>
    <option value="val8" selected>React</option>
  </select>
  ```

**3. Gruppierte Optionen mit `<optgroup>`**

* `label` beschreibt die Gruppe

  ```html
  <select multiple name="thema3" size="6">
    <optgroup label="Gruppe 1">
      <option value="val9">HTML</option>
      <option value="val10">CSS</option>
    </optgroup>
    <optgroup label="Gruppe 2">
      <option value="val11">JavaScript</option>
      <option value="val12">React</option>
    </optgroup>
  </select>
  ```

* `name` im `<select>` ist wichtig für die Datenübertragung.
* `selected` setzt eine vorausgewählte Option.
* `multiple` ermöglicht die Auswahl mehrerer Einträge per *Strg / Cmd / Shift*.
* Wird `value` im `<option>` gesetzt → dieser Wert wird übertragen.
* Ohne `value` → der sichtbare Text im Element wird übertragen.

### Radiobuttons

* Radiobuttons werden mit `<input type="radio">` erstellt.


* Beispiel:

  ```html
  <p>Bitte Zimmer auswählen:</p>
  <p>
    <input type="radio" name="zimmer" value="budget">Günstig<br>
    <input type="radio" name="zimmer" value="standard" checked>Standardzimmer<br>
    <input type="radio" name="zimmer" value="luxus">Luxuszimmer
  </p>
  ```

### label

* Ein Textlabel wird mit `<label> … </label>` erstellt.

* Wird ein `label` über das **for-Attribut** mit einem Eingabefeld verbunden, kann man das Feld durch Klicken auf den Labeltext aktivieren.

* Beispiel:

  ```html
  <p>
    <input type="radio" name="zimmer" id="budget" value="budget">
    <label for="budget">Einfaches Zimmer</label><br>

    <input type="radio" name="zimmer" id="standard" value="standard">
    <label for="standard">Standardzimmer</label><br>

    <input type="radio" name="zimmer" id="luxus" value="luxus">
    <label for="luxus">Luxuszimmer</label>
  </p>
  ```

* Dadurch ist das Klicken auf den Labeltext gleichwertig zum Klicken auf die Eingabefläche.
* Labels unterstützen die Barrierefreiheit: Screenreader geben den Labeltext aus und erleichtern die Orientierung für Nutzer ohne Sicht.

### Checkboxes

* Checkboxen werden mit `<input type="checkbox">` erstellt.
* Im Gegensatz zu Radiobuttons können **beliebig viele Optionen gleichzeitig** gewählt werden.
* Jede Checkbox sollte ein `name`-Attribut besitzen.
* Über `value` wird der übertragene Wert festgelegt.

* Beispiel:

  ```html
  <p>Bitte Verpflegung auswählen:</p>
  <p>
    <input type="checkbox" name="essen" id="brunch" value="brunch">
    <label for="brunch">Umfassendes Frühstück</label><br>

    <input type="checkbox" name="essen" id="mittagessen" value="mittagessen">
    <label for="mittagessen">Reichhaltiges Mittagessen</label><br>

    <input type="checkbox" name="essen" id="abendessen" value="abendessen">
    <label for="abendessen">Üppiges Abendessen</label>
  </p>
  ```
* Beim Absenden werden mehrere Werte übermittelt, wenn mehrere Checkboxen aktiviert wurden.

### Verschiedene Schaltflächen im Überblick

* Schaltflächen können mit `<button>…</button>` oder über `<input>` erstellt werden.

    * `type="submit"` → Formular absenden
    * `type="reset"` → Felder auf Ausgangszustand zurücksetzen
    * `type="button"` → neutrale Schaltfläche für JavaScript-Aktionen

* Beispiel:

  ```html
  <form>
    Ihre Nachricht:<br>
    <textarea name="txt" rows="15" cols="50" maxlength="2500">
    Hier Ihre Nachricht eingeben ...
    </textarea><br>

    <input type="submit" value="Absenden">
    <input type="reset" value="Abbrechen">
    <button type="button">Anklickbarer Button</button>
  </form>
  ```
* Auch `button` kann als `submit` oder `reset` genutzt werden:

  ```html
  <button type="submit">Absenden</button>
  <button type="reset">Abbrechen</button>
  ```

### Ein verstecktes Eingabefeld mit <input type="hidden"> verwenden


  ```html
  <input type="hidden" name="mwst" value="7">
  ```

## Spezielle Typen von Eingabefeldern

* HTML bietet verschiedene spezialisierte Eingabetypen, um Eingaben besser zu steuern.
* Alle diese Felder basieren auf `<input>` und unterscheiden sich durch `type="..."`.
* Beispiele, die bereits bekannt sind:

  * `type="text"` → einzeiliges Textfeld
  * `type="password"` → verdecktes Textfeld
* Es existieren viele weitere Eingabetypen, die der Browser validieren oder eingrenzen kann (z. B. Zahlen, Datumsfelder, E-Mail-Adressen).

| HTML-Notation                   | Beschreibung                       |
| ------------------------------- | ---------------------------------- |
| `<input type="color">`          | Farbauswahl-Dialog                 |
| `<input type="date">`           | Datum wählen                       |
| `<input type="datetime">`       | Datum, Uhrzeit und Zeitzone        |
| `<input type="datetime-local">` | Datum und Uhrzeit ohne Zeitzone    |
| `<input type="email">`          | E-Mail-Adresse eingeben            |
| `<input type="file">`           | Datei hochladen                    |
| `<input type="month">`          | Jahr und Monat eingeben            |
| `<input type="number">`         | Zahlenfeld                         |
| `<input type="range">`          | Bereichsauswahl über Schieberegler |
| `<input type="search">`         | Suchfeld                           |
| `<input type="tel">`            | Telefonnummer eingeben             |
| `<input type="time">`           | Uhrzeit eingeben                   |
| `<input type="url">`            | Webadresse eingeben                |
| `<input type="week">`           | Jahr und Kalenderwoche eingeben    |

### Felder für Dateiupload mit <input type="file"> verwenden

* Datei-Uploads werden mit `<input type="file">` umgesetzt.
* Der Browser zeigt dabei automatisch einen Dateiauswahl-Dialog an.

* Beispiel:

  ```html
  <form method="post" enctype="multipart/form-data">
    <p>Datei auswählen:
      <input type="file" name="bild" accept="image/*">
    </p>
  </form>
  ```

 Für den Upload des **Dateiinhalts** müssen zwei Dinge gesetzt werden:

  * `method="post"`
  * `enctype="multipart/form-data"`
  * `name` → Bezeichner, unter dem die Datei serverseitig abrufbar ist.
  * `accept` → Filter für zulässige Dateitypen, z. B. `image/*`.

  ### Ein Eingabefeld für Farben mit <input type="color">

  ### Ein Eingabefeld für ein Datum mit <input type="date">

  * `<input type="date">` bietet einen komfortablen Datumswähler, sodass Formatverwirrung (DD-MM-YYYY, MM-DD-YYYY, YYYY-MM-DD) entfällt.
* Der Nutzer wählt das Datum über ein Kalender-UI, abhängig vom Browser.
* Vorbelegung über `value` möglich.
* Einschränkungen über `min` und `max` definierbar.
* Datumsformat **immer** als `YYYY-MM-DD` notieren.
* Beispiel:

  ```html
  <input type="date" 
         value="2023-11-12"
         min="2023-01-01"
         max="2024-12-30">
  ```

* Vorbelegung → 12.11.2023
* Erlaubter Bereich → 01.01.2023 bis 30.12.2024
* Werte außerhalb dieses Bereichs gelten als ungültig.

### ** Eingabefeld für Monat (`month`)**

* Ermöglicht Eingabe von **Jahr + Monat**

* Format: **YYYY-MM**

* Beispiel:

  ```html
  <input type="month" value="2023-01">

    ```

  → Vorbelegung: **Januar 2023**

* Unterstützt `min` und `max` zur Bereichsbeschränkung.

### **Eingabefeld für E-Mail-Adressen mit `<input type="email">`**

* Der Browser prüft automatisch, ob das Format einer E-Mail-Adresse gültig ist.
* Felder können über `:valid` und `:invalid` visuell auf Gültigkeit geprüft werden.

* Beispiel (inkl. CSS):

  ```html
  <style>
    input:invalid { background: red; }
    input:valid   { background: ivory; }
  </style>

  <input type="email" multiple required>
  ```
* Details:

  * `required` → Feld darf nicht leer gelassen werden
  * `multiple` → mehrere E-Mail-Adressen möglich, getrennt durch Kommata
* Der Browser warnt oder markiert das Feld, wenn Formatregeln nicht eingehalten werden.

#### **Pseudoklassen `:valid` und `:invalid`**

* Die beiden Pseudoklassen gehören zu den **HTML5-Formularvalidierungen**.
* Sie funktionieren nicht nur bei `type="email"`, sondern bei **allen Eingabefeldern**, die eine eingebaute Validierung besitzen.

* Beispiele, bei denen `:valid` / `:invalid` angewendet werden können:

  * `type="email"` → Formatprüfung
  * `type="url"` → gültige Webadresse
  * `type="number"` → innerhalb von `min` / `max`
  * `type="date"` → innerhalb von `min` / `max`
  * `type="text"` → wenn `pattern` oder `required` gesetzt ist
  * `type="tel"` → zusammen mit `pattern` zur Formatprüfung

  * CSS kann abhängig vom Validierungsstatus Styling anwenden.
* Beispiel:

  ```css
  input:invalid { border: 2px solid red; }
  input:valid { border: 2px solid green; }
  ```

### **1. Eingabefeld für URLs (`<input type="url">`)**

* Eingabe für Webadressen.
* Browser führt einfache URL-Validierung durch.
* Einige Browser zeigen Vorschläge aus der Chronik.

```html
<input type="url" placeholder="https://example.com">
```

### **2. Eingabefeld für Telefonnummern (`<input type="tel">`)**

* Für Telefonnummern gedacht, **ohne** eingebaute Validierung.
* Für echte Prüfung → `pattern`.

```html
<input type="tel" pattern="[0-9+\-() ]{6,}" placeholder="+49 (0) 123 4567">
```

### **3. Eingabefeld für Zahlen (`<input type="number">`)**

* Browser prüft, ob die Eingabe eine Zahl ist.

```html
<input type="number" min="-10" max="10">
```

### **4. Vorschlagsliste mit `list` + `<datalist>`**

```html
<label for="anrede">Anrede:</label>
<input list="anrede" name="anrede"><br>

<datalist id="anrede">
  <option>Herr</option>
  <option>Frau</option>
  <option>Divers</option>
</datalist>
```

* Funktioniert auch mit Suchfeldern:

  ```html
  <input type="search" list="suggestions">
  ```

### **Formulare logisch gruppieren mit `<fieldset>` und `<legend>`**


* `<fieldset>` fasst mehrere Formularelemente **logisch** zu einer Gruppe zusammen.

* Browser zeigen den Bereich oft mit einem Rahmen an.
* Zweck: **Semantik**, nicht optische Gestaltung

